<?xml version="1.0" encoding="utf-8"?>
<executable>

  <category>Filtering</category>
  <title>MatchImageWithPrior</title>
  <description>Given an image and a mask, process the mask to match the image.</description>
  <version>0.1.0.$Revision: 2104 $(alpha)</version>
  <documentation-url></documentation-url>
  <license></license>
  <contributor>Stephen R. Aylward</contributor>
  <acknowledgements>This work was funded, in part, by USC:EXPOSE.</acknowledgements>

  <parameters>

    <label>IO</label>
    <description>Input/output parameters</description>
    <image>
      <name>inputVolume</name>
      <label>Input Volume</label>
      <channel>input</channel>
      <index>0</index>
      <description>Input volume</description>
    </image>
    <image>
      <name>inputMask</name>
      <label>Input Mask</label>
      <channel>input</channel>
      <index>1</index>
      <description>Input mask</description>
    </image>
    <image>
      <name>outputVolume</name>
      <label>Output Volume </label>
      <channel>output</channel>
      <index>2</index>
      <description>Output volume </description>
    </image>
    <image>
      <name>outputMask</name>
      <label>Output Mask </label>
      <channel>output</channel>
      <index>3</index>
      <description>Output mask </description>
    </image>

  </parameters>

  <parameters>

    <label>Options</label>
    <description>Steps of the pipeline</description>

    <float>
      <name>foreground</name>
      <label>Foreground intensity</label>
      <description>Foreground intensity value, i.e., object value</description>
      <flag>f</flag>
      <longflag>foreground</longflag>
      <default>255</default>
    </float>
    <float>
      <name>background</name>
      <label>Background intensity</label>
      <flag>b</flag>
      <description>Background intensity value</description>
      <longflag>background</longflag>
      <default>0</default>
    </float>
    <integer>
      <name>erode</name>
      <label>Erosion radius</label>
      <flag>e</flag>
      <description>Radius to use for erosion to simulate tomosynthesis</description>
      <longflag>erode</longflag>
      <default>6</default>
    </integer>
    <integer>
      <name>dilate</name>
      <label>Dilation radius</label>
      <flag>d</flag>
      <description>Radius to use for dilation (after erosion) to simulate tomosynthesis</description>
      <longflag>dilate</longflag>
      <default>10</default>
    </integer>
    <float>
      <name>gaussianBlur</name>
      <label>Blur sigma</label>
      <flag>g</flag>
      <description>Radius to use for blurring to simulate tomosynthesis</description>
      <longflag>gaussianBlur</longflag>
      <default>9</default>
    </float>
    <boolean>
      <name>disableRegister</name>
      <label>Disable Register </label>
      <flag>r</flag>
      <description>Turn off the registration of the </description>
      <longflag>disableRegister</longflag>
      <default>false</default>
    </boolean>
    <transform fileExtensions=".tfm">
      <name>saveTransform</name>
      <label>Save Transform</label>
      <description>Save the registration transform</description>
      <longflag>saveTransform</longflag>
      <channel>output</channel>
      <default></default>
    </transform>
    <transform fileExtensions=".tfm">
      <name>loadTransform</name>
      <label>Load Transform</label>
      <description>Load the transform to be used instead of registration</description>
      <longflag>loadTransform</longflag>
      <channel>input</channel>
      <default></default>
    </transform>
    <integer-vector>
      <name>outputBoundary</name>
      <label>Output boundary size</label>
      <description>Size of boundary to be excluded from match computation and then cropped</description>
      <flag>B</flag>
      <longflag>outputBoundary</longflag>
    </integer-vector>
    <boolean>
      <name>disableNormalize</name>
      <label>Disable normalization of output mask</label>
      <flag>n</flag>
      <description>Disable attempt to match mask intensity range with volume intensity range</description>
      <longflag>disableNormalize</longflag>
      <default>false</default>
    </boolean>

  </parameters>

</executable>

